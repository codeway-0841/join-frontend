{"version":3,"sources":["assets/img/wave.svg","assets/img/play.svg","assets/img/pause.svg","assets/img/readed.svg","assets/img/noreaded.svg","components/Button/index.js","components/Block/index.js","utils/helpers/validateField.js","components/Message/index.js","utils/helpers/convertCurrentTime.js","components/Messages/index.js","components/DialogItem/index.js","components/Time/index.js","components/IconReaded/index.js","components/Dialogs/index.js","components/Avatar/index.js","utils/helpers/generateAvatarFromHash.js","components/Status/index.js","components/ChatInput/index.js","modules/LoginForm/components/LoginForm.jsx","utils/validate.js","modules/LoginForm/index.js","modules/LoginForm/containers/LoginForm.js","modules/RegisterForm/components/RegisterForm.jsx","modules/RegisterForm/index.js","modules/RegisterForm/containers/RegisterForm.js","pages/Auth/index.jsx","core/axios.js","utils/api/dialogs.js","utils/api/messages.js","redux/actions/dialogs.js","redux/actions/messages.js","containers/Dialogs.js","containers/Messages.js","pages/Home/index.jsx","App.js","redux/reducers/dialogs.js","redux/reducers/messages.js","redux/reducers/index.js","redux/store.js","index.js"],"names":["module","exports","__webpack_require__","p","Button","props","react_default","a","createElement","es_button","Object","assign","className","classNames","button--large","size","Block","_ref","children","validateField","key","touched","errors","MessageAudio","audioSrc","audioElem","useRef","_useState","useState","_useState2","slicedToArray","isPlaying","setIsPlaying","_useState3","_useState4","progress","setProgress","_useState5","_useState6","currentTime","setCurrentTime","useEffect","current","volume","addEventListener","duration","ref","src","preload","style","width","onClick","pause","play","pauseSvg","alt","playSvg","waveSvg","number","mins","Math","floor","secs","toFixed","concat","convertCurrentTime","Message","_ref2","avatar","user","text","date","audio","isMe","isReaded","attachments","isTyping","message--isme","message--is-typing","message--is-audio","message--image","length","components_IconReaded","components_Avatar","Message_MessageAudio","map","item","index","url","filename","components_Time","defaultProps","Messages","blockRef","isLoading","items","messages--loading","spin","tip","components_Message","_id","empty","description","DialogItem","undread","created_at","currentDialogId","onSelect","dialogs__item--online","isOnline","dialogs__item--selected","bind","fullname","isToday","format","getMessageTime","Time","react","distanceInWordsToNow","addSuffix","locale","ruLocale","IconReaded","readedSvg","noReadedSvg","Dialogs","userId","onSearch","inputValue","onSelectDialog","input","Search","placeholder","onChange","e","target","value","orderBy","components_DialogItem","image","Empty","PRESENTED_IMAGE_SIMPLE","Avatar","_generateAvatarFromHa","hash","_hash$substr$split$ma","substr","split","char","charCodeAt","_hash$substr$split$ma2","r","g","b","color","tinycolor","lighten","saturate","toHexString","colorLighten","generateAvatarFromHash","firstChar","toUpperCase","background","Status","online","status--online","ChatInput","setValue","emojiPickerVisible","setShowEmojiPicker","dist_es","set","type","shape","icon","dist","onFiles","files","console","log","containerProps","uploadProps","accept","multiple","LoginForm","values","handleChange","handleBlur","handleSubmit","isValid","isSubmitting","components_Block","es_form","onSubmit","Item","validateStatus","help","email","hasFeedback","id","prefix","onBlur","password","components_Button","react_router_dom","to","utils_validate","isAuth","rules","test","keys","forEach","withFormik","enableReinitialize","mapPropsToValues","validate","validateForm","setSubmitting","setTimeout","alert","JSON","stringify","displayName","RegisterForm","password2","Auth","react_router","exact","path","component","axios","defaults","baseURL","dialogs","get","messages","actions","setDialogs","payload","setCurrentDialogId","fetchDialogs","dispatch","dialogsApi","then","data","setMessages","setIsLoading","bool","fetchMessages","dialogId","messagesApi","catch","connect","dialogsActions","Array","from","filtred","setFiltredItems","components_Dialogs","filter","dialog","toLowerCase","indexOf","messagesActions","messagesRef","scrollTo","components_Messages","Home","containers_Dialogs","components_Status","containers_Messages","components_ChatInput","App","Component","initialState","combineReducers","state","arguments","undefined","objectSpread","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middleware","thunk","store","createStore","rootReducer","applyMiddleware","apply","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.09d6a86e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wave.2b8196a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/play.65f03140.svg\";","module.exports = __webpack_public_path__ + \"static/media/pause.a61933e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/readed.c1f419d6.svg\";","module.exports = __webpack_public_path__ + \"static/media/noreaded.3c841bf6.svg\";","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button as BaseButton } from \"antd\";\nimport classNames from \"classnames\";\n\nimport \"./Button.scss\";\n\nconst Button = props => (\n  <BaseButton\n    {...props}\n    className={classNames(\"button\", props.className, {\n      \"button--large\": props.size === \"large\"\n    })}\n  />\n);\n\nButton.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Button;\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nimport \"./Block.scss\";\n\nconst Block = ({ children, className }) => (\n  <div className={classNames(\"block\", className)}>{children}</div>\n);\n\nexport default Block;\n","export default (key, touched, errors) => {\n  if (touched[key]) {\n    if (errors[key]) {\n      return \"error\";\n    } else {\n      return \"success\";\n    }\n  } else {\n    return \"\";\n  }\n};\n","import React, { useState, useRef, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { Emoji } from \"emoji-mart\";\n\nimport { convertCurrentTime } from \"utils/helpers\";\n\nimport waveSvg from \"assets/img/wave.svg\";\nimport playSvg from \"assets/img/play.svg\";\nimport pauseSvg from \"assets/img/pause.svg\";\n\nimport { Time, IconReaded, Avatar } from \"../\";\n\nimport \"./Message.scss\";\n\nconst MessageAudio = ({ audioSrc }) => {\n  const audioElem = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [currentTime, setCurrentTime] = useState(0);\n\n  const togglePlay = () => {\n    if (!isPlaying) {\n      audioElem.current.play();\n    } else {\n      audioElem.current.pause();\n    }\n  };\n\n  useEffect(() => {\n    audioElem.current.volume = \"0.01\";\n    audioElem.current.addEventListener(\n      \"playing\",\n      () => { \n        setIsPlaying(true);\n      },\n      false\n    );\n    audioElem.current.addEventListener(\n      \"ended\",\n      () => {\n        setIsPlaying(false);\n        setProgress(0);\n        setCurrentTime(0);\n      },\n      false\n    );\n    audioElem.current.addEventListener(\n      \"pause\",\n      () => {\n        setIsPlaying(false);\n      },\n      false\n    );\n    audioElem.current.addEventListener(\"timeupdate\", () => {\n      const duration = (audioElem.current && audioElem.current.duration) || 0;\n      setCurrentTime(audioElem.current.currentTime);\n      setProgress((audioElem.current.currentTime / duration) * 100);\n    });\n  }, []);\n\n  return (\n    <div className=\"message__audio\">\n      <audio ref={audioElem} src={audioSrc} preload=\"auto\" />\n      <div\n        className=\"message__audio-progress\"\n        style={{ width: progress + \"%\" }}\n      />\n      <div className=\"message__audio-info\">\n        <div className=\"message__audio-btn\">\n          <button onClick={togglePlay}>\n            {isPlaying ? (\n              <img src={pauseSvg} alt=\"Pause svg\" />\n            ) : (\n              <img src={playSvg} alt=\"Play svg\" />\n            )}\n          </button>\n        </div>\n        <div className=\"message__audio-wave\">\n          <img src={waveSvg} alt=\"Wave svg\" />\n        </div>\n        <span className=\"message__audio-duration\">\n          {convertCurrentTime(currentTime)}\n        </span>\n      </div>\n    </div>\n  );\n};\n\nconst Message = ({\n  avatar,\n  user,\n  text,\n  date,\n  audio,\n  isMe,\n  isReaded,\n  attachments,\n  isTyping\n}) => {\n  return (\n    <div\n      className={classNames(\"message\", {\n        \"message--isme\": isMe,\n        \"message--is-typing\": isTyping,\n        \"message--is-audio\": audio,\n        \"message--image\": attachments && attachments.length === 1\n      })}\n    >\n      <div className=\"message__content\">\n        <IconReaded isMe={isMe} isReaded={isReaded} />\n        <div className=\"message__avatar\">\n          <Avatar user={user} />\n        </div>\n        <div className=\"message__info\">\n          {(audio || text || isTyping) && (\n            <div className=\"message__bubble\">\n              {text && <p className=\"message__text\">{text}</p>}\n              {isTyping && (\n                <div className=\"message__typing\">\n                  <span />\n                  <span />\n                  <span />\n                </div>\n              )}\n              {audio && <MessageAudio audioSrc={audio} />}\n            </div>\n          )}\n\n          {attachments && (\n            <div className=\"message__attachments\">\n              {attachments.map((item, index) => (\n                <div key={index} className=\"message__attachments-item\">\n                  <img src={item.url} alt={item.filename} />\n                </div>\n              ))}\n            </div>\n          )}\n\n          {date && (\n            <span className=\"message__date\">\n              <Time date={date} />\n            </span>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nMessage.defaultProps = {\n  user: {}\n};\n\nMessage.propTypes = {\n  avatar: PropTypes.string,\n  text: PropTypes.string,\n  date: PropTypes.string,\n  user: PropTypes.object,\n  attachments: PropTypes.array,\n  isMe: PropTypes.bool,\n  isReaded: PropTypes.bool,\n  isTyping: PropTypes.bool,\n  audio: PropTypes.string\n};\n\nexport default Message;\n","export default number => {\n  const mins = Math.floor(number / 60);\n  const secs = (number % 60).toFixed();\n  return `${mins < 10 ? \"0\" : \"\"}${mins}:${secs < 10 ? \"0\" : \"\"}${secs}`;\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Empty, Spin } from \"antd\";\nimport classNames from \"classnames\";\n\nimport { Message } from \"../\";\n\nimport \"./Messages.scss\";\n\nconst Messages = ({ blockRef, isLoading, items }) => {\n  return (\n    <div\n      ref={blockRef}\n      className={classNames(\"messages\", { \"messages--loading\": isLoading })}\n    >\n      {isLoading ? (\n        <Spin size=\"large\" tip=\"Loading messages ...\" />\n      ) : items && !isLoading ? (\n        items.length > 0 ? (\n          items.map(item => <Message key={item._id} {...item} />)\n        ) : (\n          <Empty description=\"The dialog is empty\" />\n        )\n      ) : (\n        <Empty description=\"Open dialogue\" />\n      )}\n    </div>\n  );\n};\n\nMessages.propTypes = {\n  items: PropTypes.array\n};\n\nexport default Messages;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport format from \"date-fns/format\";\nimport isToday from \"date-fns/is_today\";\n\nimport { IconReaded, Avatar } from \"../\";\n\nconst getMessageTime = created_at => {\n  if (isToday(created_at)) {\n    return format(created_at, \"HH:mm\");\n  } else {\n    return format(created_at, \"DD.MM.YYYY\");\n  }\n};\n\nconst DialogItem = ({\n  _id,\n  user,\n  undread,\n  created_at,\n  text,\n  isMe,\n  currentDialogId,\n  onSelect\n}) => (\n  <div\n    className={classNames(\"dialogs__item\", {\n      \"dialogs__item--online\": user.isOnline,\n      \"dialogs__item--selected\": currentDialogId === _id\n    })}\n    onClick={onSelect.bind(this, _id)}\n  >\n    <div className=\"dialogs__item-avatar\">\n      <Avatar user={user} />\n    </div>\n    <div className=\"dialogs__item-info\">\n      <div className=\"dialogs__item-info-top\">\n        <b>{user.fullname}</b>\n        <span>{getMessageTime(created_at)}</span>\n      </div>\n      <div className=\"dialogs__item-info-bottom\">\n        <p>{text}</p>\n        {isMe && <IconReaded isMe={true} isReaded={false} />}\n        {undread > 0 && (\n          <div className=\"dialogs__item-info-bottom-count\">\n            {undread > 9 ? \"+9\" : undread}\n          </div>\n        )}\n      </div>\n    </div>\n  </div>\n);\n\nexport default DialogItem;\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport distanceInWordsToNow from \"date-fns/distance_in_words_to_now\";\nimport ruLocale from \"date-fns/locale/ru\";\n\nconst Time = ({ date }) => (\n  <Fragment>\n    {distanceInWordsToNow(date, { addSuffix: true, locale: ruLocale })}\n  </Fragment>\n);\n\nTime.propTypes = {\n  date: PropTypes.string\n};\n\nexport default Time;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport readedSvg from \"assets/img/readed.svg\";\nimport noReadedSvg from \"assets/img/noreaded.svg\";\n\nconst IconReaded = ({ isMe, isReaded }) =>\n  (isMe &&\n    (isReaded ? (\n      <img className=\"message__icon-readed\" src={readedSvg} alt=\"Readed icon\" />\n    ) : (\n      <img\n        className=\"message__icon-readed message__icon-readed--no\"\n        src={noReadedSvg}\n        alt=\"No readed icon\"\n      />\n    ))) ||\n  null;\n\nIconReaded.propTypes = {\n  isMe: PropTypes.bool,\n  isReaded: PropTypes.bool\n};\n\nexport default IconReaded;\n","import React from \"react\";\nimport orderBy from \"lodash/orderBy\";\nimport { Input, Empty } from \"antd\";\n\nimport { DialogItem } from \"../\";\n\nimport \"./Dialogs.scss\";\n\nconst Dialogs = ({\n  items,\n  userId,\n  onSearch,\n  inputValue,\n  currentDialogId,\n  onSelectDialog\n}) => (\n  <div className=\"dialogs\">\n    <div className=\"dialogs__search\">\n      <Input.Search\n        placeholder=\"Search among contacts\"\n        onChange={e => onSearch(e.target.value)}\n        value={inputValue}\n      />\n    </div>\n    {items.length ? (\n      orderBy(items, [\"created_at\"], [\"desc\"]).map(item => (\n        <DialogItem\n          onSelect={onSelectDialog}\n          key={item._id}\n          isMe={item.user._id === userId}\n          currentDialogId={currentDialogId}\n          {...item}\n        />\n      ))\n    ) : (\n      <Empty\n        image={Empty.PRESENTED_IMAGE_SIMPLE}\n        description=\"Nothing found\"\n      />\n    )}\n  </div>\n);\n\nexport default Dialogs;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { generateAvatarFromHash } from \"utils/helpers\";\n\nimport \"./Avatar.scss\";\n\nconst Avatar = ({ user }) => {\n  if (user.avatar) {\n    return (\n      <img\n        className=\"avatar\"\n        src={user.avatar}\n        alt={`Avatar ${user.fullname}`}\n      />\n    );\n  } else {\n    const { color, colorLighten } = generateAvatarFromHash(user._id);\n    const firstChar = user.fullname[0].toUpperCase();\n    return (\n      <div\n        style={{\n          background: `linear-gradient(135deg, ${color} 0%, ${colorLighten} 96.52%)`\n        }}\n        className=\"avatar avatar--symbol\"\n      >\n        {firstChar}\n      </div>\n    );\n  }\n};\n\nAvatar.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Avatar;\n","import tinycolor from \"tinycolor2\";\n\nconst getCorrectIndex = number => {\n  if (number > 255) {\n    return 255;\n  }\n  if (number < 0) {\n    return 0;\n  }\n  return number > 255 ? 255 : number < 0 ? 0 : number;\n};\n\nexport default hash => {\n  const [r, g, b] = hash\n    .substr(0, 3)\n    .split(\"\")\n    .map(char => getCorrectIndex(char.charCodeAt(0)));\n\n  return {\n    color: tinycolor({ r, g, b })\n      .lighten(10)\n      .saturate(10)\n      .toHexString(),\n    colorLighten: tinycolor({ r, g, b })\n      .lighten(30)\n      .saturate(30)\n      .toHexString()\n  };\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\n\nimport \"./Status.scss\";\n\nconst Status = ({ online }) => (\n  <span className={classNames(\"status\", { \"status--online\": online })}>\n    {online ? \"онлайн\" : \"офлайн\"}\n  </span>\n);\n\nStatus.propTypes = {\n  online: PropTypes.bool\n};\n\nexport default Status;\n","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Input } from \"antd\";\nimport { UploadField } from \"@navjobs/upload\";\nimport { Picker } from \"emoji-mart\";\n\nimport \"./ChatInput.scss\";\n\nconst ChatInput = props => {\n  const [value, setValue] = useState(\"\");\n  const [emojiPickerVisible, setShowEmojiPicker] = useState(false);\n\n  const toggleEmojiPicker = () => {\n    setShowEmojiPicker(!emojiPickerVisible);\n  };\n\n  return (\n    <div className=\"chat-input\">\n      <div className=\"chat-input__smile-btn\">\n        {emojiPickerVisible && (\n          <div className=\"chat-input__emoji-picker\">\n            <Picker set=\"apple\" />\n          </div>\n        )}\n        <Button\n          onClick={toggleEmojiPicker}\n          type=\"link\"\n          shape=\"circle\"\n          icon=\"smile\"\n        />\n      </div>\n      <Input\n        onChange={e => setValue(e.target.value)}\n        size=\"large\"\n        placeholder=\"Введите текст сообщения…\"\n      />\n      <div className=\"chat-input__actions\">\n        <UploadField\n          onFiles={files => console.log(files)}\n          containerProps={{\n            className: \"chat-input__actions-upload-btn\"\n          }}\n          uploadProps={{\n            accept: \".jpg,.jpeg,.png,.gif,.bmp\",\n            multiple: \"multiple\"\n          }}\n        >\n          <Button type=\"link\" shape=\"circle\" icon=\"camera\" />\n        </UploadField>\n        {value ? (\n          <Button type=\"link\" shape=\"circle\" icon=\"check-circle\" />\n        ) : (\n          <Button type=\"link\" shape=\"circle\" icon=\"audio\" />\n        )}\n      </div>\n    </div>\n  );\n};\n\nChatInput.propTypes = {\n  className: PropTypes.string\n};\n\nexport default ChatInput;\n","import React from \"react\";\nimport { Form, Icon, Input } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nimport { Button, Block } from \"components\";\nimport { validateField } from \"utils/helpers\";\n\nconst LoginForm = props => {\n  const {\n    values,\n    touched,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isValid,\n    isSubmitting\n  } = props;\n  return (\n    <div>\n      <div className=\"auth__top\">\n        <h2>Login to your account</h2>\n        <p>Please login to your account</p>\n      </div>\n      <Block>\n        <Form onSubmit={handleSubmit} className=\"login-form\">\n          <Form.Item\n            validateStatus={validateField(\"email\", touched, errors)}\n            help={!touched.email ? \"\" : errors.email}\n            hasFeedback\n          >\n            <Input\n              id=\"email\"\n              prefix={<Icon type=\"mail\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              size=\"large\"\n              placeholder=\"E-Mail\"\n              value={values.email}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </Form.Item>\n          <Form.Item\n            validateStatus={validateField(\"password\", touched, errors)}\n            help={!touched.password ? \"\" : errors.password}\n            hasFeedback\n          >\n            <Input\n              id=\"password\"\n              prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n              size=\"large\"\n              type=\"password\"\n              placeholder=\"Password\"\n              value={values.password}\n              onChange={handleChange}\n              onBlur={handleBlur}\n            />\n          </Form.Item>\n          <Form.Item>\n            {isSubmitting && !isValid && <span>Error!</span>}\n            <Button onClick={handleSubmit} type=\"primary\" size=\"large\">\n            Log in\n            </Button>\n          </Form.Item>\n          <Link className=\"auth__register-link\" to=\"/register\">\n          Register now\n          </Link>\n        </Form>\n      </Block>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","export default ({ isAuth, values, errors }) => {\n  const rules = {\n    email: value => {\n      if (!value) {\n        errors.email = \"Enter E-Mail\";\n      } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\n        errors.email = \"Invalid E-Mail\";\n      }\n    },\n    password: value => {\n      if (!value) {\n        errors.password = \"Enter password\";\n      } else if (!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(value)) {\n        errors.password = isAuth ? \"Invalid password\" : \"Password too light\";\n      }\n    }\n  };\n\n  Object.keys(values).forEach(key => rules[key] && rules[key](values[key]));\n};\n","import LoginForm from \"./containers/LoginForm\";\n\nexport default LoginForm;\n","import { withFormik } from \"formik\";\nimport LoginForm from \"../components/LoginForm\";\nimport validateForm from \"utils/validate\";\n\nexport default withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: () => ({\n    email: \"\",\n    password: \"\"\n  }),\n  validate: values => {\n    let errors = {};\n\n    validateForm({ isAuth: true, values, errors });\n\n    return errors;\n  },\n  handleSubmit: (values, { setSubmitting }) => {\n    setTimeout(() => {\n      alert(JSON.stringify(values, null, 2));\n      setSubmitting(false);\n    }, 1000);\n  },\n  displayName: \"LoginForm\"\n})(LoginForm);\n","import React from \"react\";\nimport { Form, Icon, Input } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nimport { Button, Block } from \"components\";\nimport { validateField } from \"utils/helpers\";\n\nconst success = false;\n\nconst RegisterForm = props => {\n  const {\n    values,\n    touched,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isValid,\n    isSubmitting\n  } = props;\n  return (\n    <div>\n      <div className=\"auth__top\">\n        <h2>Registration</h2>\n        <p>To enter the chat, you need to register</p>\n      </div>\n      <Block>\n        {!success ? (\n          <Form onSubmit={handleSubmit} className=\"login-form\">\n            <Form.Item\n              validateStatus={validateField(\"email\", touched, errors)}\n              help={!touched.email ? \"\" : errors.email}\n              hasFeedback\n            >\n              <Input\n                id=\"email\"\n                prefix={\n                  <Icon type=\"mail\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                }\n                size=\"large\"\n                placeholder=\"E-Mail\"\n                value={values.email}\n                onChange={handleChange}\n                onBlur={handleBlur}\n              />\n            </Form.Item>\n            <Form.Item>\n              <Input\n                prefix={\n                  <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                }\n                size=\"large\"\n                placeholder=\"Your name\"\n              />\n            </Form.Item>\n            <Form.Item\n              validateStatus={validateField(\"password\", touched, errors)}\n              help={!touched.password ? \"\" : errors.password}\n              hasFeedback\n            >\n              <Input\n                id=\"password\"\n                prefix={\n                  <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                }\n                size=\"large\"\n                type=\"password\"\n                placeholder=\"Password\"\n                value={values.password}\n                onChange={handleChange}\n                onBlur={handleBlur}\n              />\n            </Form.Item>\n            <Form.Item\n              validateStatus={validateField(\"password\", touched, errors)}\n            >\n              <Input\n                prefix={\n                  <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                }\n                size=\"large\"\n                type=\"password2\"\n                placeholder=\"Confirm password\"\n              />\n            </Form.Item>\n            <Form.Item>\n              {isSubmitting && !isValid && <span>Error!</span>}\n              <Button onClick={handleSubmit} type=\"primary\" size=\"large\">\n                Registration\n              </Button>\n            </Form.Item>\n            <Link className=\"auth__register-link\" to=\"/login\">\n             Log in\n            </Link>\n          </Form>\n        ) : (\n          <div className=\"auth__success-block\">\n            <div>\n              <Icon type=\"info-circle\" theme=\"twoTone\" />\n            </div>\n            <h2>Verify your account</h2>\n            <p>\n            A letter with a confirmation link has been sent to your mail\n               account.\n            </p>\n          </div>\n        )}\n      </Block>\n    </div>\n  );\n};\n\nexport default RegisterForm;\n","import RegisterForm from \"./containers/RegisterForm\";\n\nexport default RegisterForm;\n","import { withFormik } from \"formik\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport validateForm from \"utils/validate\";\n\nexport default withFormik({\n  enableReinitialize: true,\n  mapPropsToValues: () => ({\n    email: \"\",\n    fullname: \"\",\n    password: \"\",\n    password2: \"\"\n  }),\n  validate: values => {\n    let errors = {};\n    validateForm({ isAuth: false, values, errors });\n    return errors;\n  },\n  handleSubmit: (values, { setSubmitting }) => {\n    setTimeout(() => {\n      alert(JSON.stringify(values, null, 2));\n      setSubmitting(false);\n    }, 1000);\n  },\n  displayName: \"RegisterForm\"\n})(RegisterForm);\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport { LoginForm, RegisterForm } from \"modules\";\n\nimport \"./Auth.scss\";\n\nconst Auth = () => (\n  <section className=\"auth\">\n    <div className=\"auth__content\">\n      <Route exact path={[\"/\", \"/login\"]} component={LoginForm} />\n      <Route exact path=\"/register\" component={RegisterForm} />\n    </div>\n  </section>\n);\n\nexport default Auth;\n","import axios from \"axios\";\n\naxios.defaults.baseURL = \"http://localhost:9999\";\n\n\nexport default axios;\n","import { axios } from \"core\";\n\nexport default {\n  getAll: () => axios.get(\"/dialogs\")\n};\n","import { axios } from \"core\";\n\nexport default {\n  getAllByDialogId: id => axios.get(\"/messages?dialog=\" + id)\n};\n","import { dialogsApi } from \"utils/api\";\n\nconst actions = {\n  setDialogs: items => ({\n    type: \"DIALOGS:SET_ITEMS\",\n    payload: items\n  }),\n  setCurrentDialogId: id => ({\n    type: \"DIALOGS:SET_CURRENT_DIALOG_ID\",\n    payload: id\n  }),\n  fetchDialogs: () => dispatch => {\n    dialogsApi.getAll().then(({ data }) => {\n      dispatch(actions.setDialogs(data));\n    });\n  }\n};\n\nexport default actions;\n","import { messagesApi } from \"utils/api\";\n\nconst actions = {\n  setMessages: items => ({\n    type: \"MESSAGES:SET_ITEMS\",\n    payload: items\n  }),\n  setIsLoading: bool => ({\n    type: \"MESSAGES:SET_IS_LOADING\",\n    payload: bool\n  }),\n  fetchMessages: dialogId => dispatch => {\n    dispatch(actions.setIsLoading(true));\n    messagesApi\n      .getAllByDialogId(dialogId)\n      .then(({ data }) => {\n        dispatch(actions.setMessages(data));\n      })\n      .catch(() => {\n        dispatch(actions.setIsLoading(false));\n      });\n  }\n};\n\nexport default actions;\n","import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { dialogsActions } from \"redux/actions\";\nimport { Dialogs as BaseDialogs } from \"components\";\n\nconst Dialogs = ({\n  fetchDialogs,\n  currentDialogId,\n  setCurrentDialogId,\n  items,\n  userId\n}) => {\n  const [inputValue, setValue] = useState(\"\");\n  const [filtred, setFiltredItems] = useState(Array.from(items));\n\n  const onChangeInput = value => {\n    setFiltredItems(\n      items.filter(\n        dialog =>\n          dialog.user.fullname.toLowerCase().indexOf(value.toLowerCase()) >= 0\n      )\n    );\n    setValue(value);\n  };\n\n  useEffect(() => {\n    if (!items.length) {\n      fetchDialogs();\n    } else {\n      setFiltredItems(items);\n    }\n  }, [items]);\n\n  return (\n    <BaseDialogs\n      userId={userId}\n      items={filtred}\n      onSearch={onChangeInput}\n      inputValue={inputValue}\n      onSelectDialog={setCurrentDialogId}\n      currentDialogId={currentDialogId}\n    />\n  );\n};\n\nexport default connect(\n  ({ dialogs }) => dialogs,\n  dialogsActions\n)(Dialogs);\n","import React, { useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { messagesActions } from \"redux/actions\";\nimport { Messages as BaseMessages } from \"components\";\n\nconst Dialogs = ({ currentDialogId, fetchMessages, items, isLoading }) => {\n  const messagesRef = useRef(null);\n\n  useEffect(() => {\n    if (currentDialogId) {\n      fetchMessages(currentDialogId);\n    }\n  }, [currentDialogId]);\n\n  useEffect(() => {\n    messagesRef.current.scrollTo(0, 999999);\n  }, [items]);\n\n  return (\n    <BaseMessages blockRef={messagesRef} items={items} isLoading={isLoading} />\n  );\n};\n\nexport default connect(\n  ({ dialogs, messages }) => ({\n    currentDialogId: dialogs.currentDialogId,\n    items: messages.items,\n    isLoading: messages.isLoading\n  }),\n  messagesActions\n)(Dialogs);\n","import React from \"react\";\nimport { Icon, Button } from \"antd\";\nimport { Status, ChatInput } from \"components\";\nimport { Dialogs, Messages } from \"containers\";\n\nimport \"./Home.scss\";\n\nconst Home = () => (\n  <section className=\"home\">\n    <div className=\"chat\">\n      <div className=\"chat__sidebar\">\n        <div className=\"chat__sidebar-header\">\n          <div>\n            <Icon type=\"team\" />\n            <span className=\"brand\" >Join</span>\n          </div>\n          <Button type=\"link\" shape=\"circle\" icon=\"form\" />\n        </div>\n\n        <div className=\"chat__sidebar-dialogs\">\n          <Dialogs userId={0} />\n        </div>\n      </div>\n      <div className=\"chat__dialog\">\n        <div className=\"chat__dialog-header\">\n        <div></div>\n          <div className=\"chat__dialog-header-center\">\n          <div className=\"dialogs__item-avatar\">\n              <img src=\"https://scontent.ftas1-1.fna.fbcdn.net/v/t1.0-1/s200x200/151323779_939904703483162_4260875257250539935_n.jpg?_nc_cat=106&ccb=3&_nc_sid=7206a8&_nc_ohc=z__8b0znKZgAX9xxsnL&_nc_ht=scontent.ftas1-1.fna&tp=7&oh=269e453662c8419e0418fe026f20f5de&oe=6061B111\" alt=\"\"/>\n           </div>\n          <div>\n          <b className=\"chat__dialog-header-username\">Ruslan Ablyamitov</b>\n            <div className=\"chat__dialog-header-status\">\n              <Status online />\n            </div>\n          </div>\n          </div>\n         <span>\n         <Button type=\"link\" shape=\"circle\" icon=\"phone\" />\n          <Button type=\"link\" shape=\"circle\" icon=\"camera\" />\n          <Button type=\"link\" shape=\"circle\" icon=\"ellipsis\" />\n         </span>\n        </div>\n        <div className=\"chat__dialog-messages\">\n          <Messages />\n        </div>\n        <div className=\"chat__dialog-input\">\n          <ChatInput />\n        </div>\n      </div>\n    </div>\n  </section>\n);\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport { Auth, Home } from \"pages\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <Route exact path={[\"/\", \"/login\", \"/register\"]} component={Auth} />\n        <Route exact path=\"/im\" component={Home} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const initialState = {\n  items: [],\n  currentDialogId: null,\n  isLoading: false\n};\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case \"DIALOGS:SET_ITEMS\":\n      return {\n        ...state,\n        items: payload\n      };\n    case \"DIALOGS:SET_CURRENT_DIALOG_ID\":\n      return {\n        ...state,\n        currentDialogId: payload\n      };\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  items: null,\n  isLoading: false\n};\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case \"MESSAGES:SET_ITEMS\":\n      return {\n        ...state,\n        items: payload,\n        isLoading: false\n      };\n    case \"MESSAGES:SET_IS_LOADING\":\n      return {\n        ...state,\n        isLoading: payload\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport dialogs from \"./dialogs\";\nimport messages from \"./messages\";\n\nexport default combineReducers({\n  dialogs,\n  messages\n});\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport rootReducer from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\n\nimport store from \"redux/store\";\n\nimport \"./styles/index.scss\";\nimport \"emoji-mart/css/emoji-mart.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}